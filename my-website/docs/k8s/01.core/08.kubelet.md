### 1\. `kubelet` - "Thuyá»n trÆ°á»Ÿng" trÃªn má»—i Worker Node ğŸ‘¨â€âœˆï¸

Náº¿u `Master Node` lÃ  "TÃ u Chá»‰ Huy", thÃ¬ má»—i `Worker Node` lÃ  má»™t "TÃ u HÃ ng", vÃ  **`kubelet` chÃ­nh lÃ  thuyá»n trÆ°á»Ÿng** cá»§a con tÃ u Ä‘Ã³. NÃ³ lÃ  agent chÃ­nh, chá»‹u trÃ¡ch nhiá»‡m cho má»i hoáº¡t Ä‘á»™ng diá»…n ra trÃªn node cá»§a mÃ¬nh.

`kubelet` lÃ  **Ä‘iá»ƒm liÃªn láº¡c duy nháº¥t** cá»§a Master Node trÃªn má»—i Worker Node. Má»i má»‡nh lá»‡nh tá»« `kube-api-server` xuá»‘ng Worker Node Ä‘á»u do `kubelet` tiáº¿p nháº­n vÃ  thá»±c thi.

---

### 2\. CÃ¡c Nhiá»‡m vá»¥ chÃ­nh cá»§a "Thuyá»n trÆ°á»Ÿng" `kubelet`

`kubelet` cÃ³ 3 nhiá»‡m vá»¥ cá»‘t lÃµi:

1. **ÄÄƒng kÃ½ Node (Node Registration):**

   - Khi má»™t Worker Node má»›i khá»Ÿi Ä‘á»™ng, `kubelet` sáº½ lÃ m "thá»§ tá»¥c giáº¥y tá»" cáº§n thiáº¿t Ä‘á»ƒ Ä‘Äƒng kÃ½ Node nÃ y vá»›i cá»¥m Kubernetes, bÃ¡o cÃ¡o ráº±ng: "Thuyá»n trÆ°á»Ÿng xin bÃ¡o, tÃ u hÃ ng sá»‘ hiá»‡u X Ä‘Ã£ sáºµn sÃ ng nháº­n nhiá»‡m vá»¥\!".

2. **Táº¡o vÃ  Quáº£n lÃ½ VÃ²ng Ä‘á»i Pod (Pod Lifecycle):**

   - Sau khi `kube-scheduler` Ä‘Ã£ quyáº¿t Ä‘á»‹nh má»™t Pod sáº½ cháº¡y trÃªn Node nÃ y, `kube-api-server` sáº½ gá»­i chá»‰ thá»‹ Ä‘áº¿n `kubelet`.
   - `kubelet` nháº­n lá»‡nh vÃ  **ra chá»‰ thá»‹ cho Container Runtime Engine** (vÃ­ dá»¥: Docker, ContainerD) Ä‘á»ƒ kÃ©o image cáº§n thiáº¿t vÃ  khá»Ÿi cháº¡y cÃ¡c container bÃªn trong Pod.
   - NÃ³ cÅ©ng chá»‹u trÃ¡ch nhiá»‡m há»§y Pod khi cÃ³ lá»‡nh.

3. **BÃ¡o cÃ¡o Tráº¡ng thÃ¡i (Status Reporting):**

   - `kubelet` liÃªn tá»¥c **theo dÃµi "sá»©c khá»e"** cá»§a cÃ¡c Pod vÃ  container Ä‘ang cháº¡y trÃªn node cá»§a mÃ¬nh.
   - NÃ³ Ä‘á»u Ä‘áº·n gá»­i cÃ¡c bÃ¡o cÃ¡o tráº¡ng thÃ¡i nÃ y vá» cho `kube-api-server`, thÃ´ng bÃ¡o tÃ¬nh hÃ¬nh cá»§a "con tÃ u" vÃ  cÃ¡c "thÃ¹ng hÃ ng" trÃªn Ä‘Ã³.

---

### 3\. CÃ i Ä‘áº·t `kubelet` - Má»™t Ä‘iá»ƒm "Äáº·c biá»‡t" âš ï¸

ÄÃ¢y lÃ  má»™t Ä‘iá»ƒm ráº¥t quan trá»ng báº¡n cáº§n nhá»›, khÃ¡c biá»‡t so vá»›i cÃ¡c thÃ nh pháº§n Master Node khÃ¡c:

- Ngay cáº£ khi báº¡n sá»­ dá»¥ng cÃ´ng cá»¥ `kubeadm` Ä‘á»ƒ dá»±ng cá»¥m, `kubeadm` **KHÃ”NG** tá»± Ä‘á»™ng cÃ i Ä‘áº·t `kubelet` cho báº¡n.
- Báº¡n pháº£i **luÃ´n luÃ´n cÃ i Ä‘áº·t `kubelet` má»™t cÃ¡ch thá»§ cÃ´ng** trÃªn táº¥t cáº£ cÃ¡c Worker Node (vÃ  cáº£ Master Node).
- QuÃ¡ trÃ¬nh cÃ i Ä‘áº·t thÆ°á»ng bao gá»“m viá»‡c táº£i file cÃ i Ä‘áº·t, giáº£i nÃ©n vÃ  cáº¥u hÃ¬nh nÃ³ cháº¡y nhÆ° má»™t service há»‡ thá»‘ng.

---

### 4\. Xem tiáº¿n trÃ¬nh `kubelet` Ä‘ang cháº¡y

Äá»ƒ xem `kubelet` cÃ³ Ä‘ang cháº¡y trÃªn má»™t node hay khÃ´ng vÃ  vá»›i cÃ¡c tÃ¹y chá»n nÃ o, báº¡n cÃ³ thá»ƒ dÃ¹ng lá»‡nh sau trÃªn node Ä‘Ã³:

```bash
ps -aux | grep kubelet
```

---

### 5\. "Chá»‘t háº¡" cho Ká»³ thi CKA ğŸ“

- `kubelet` lÃ  agent chÃ­nh, cháº¡y trÃªn **má»—i Worker Node** (vÃ  cáº£ Master Node).
- NÃ³ lÃ  **ngÆ°á»i thá»±c thi** - nháº­n lá»‡nh tá»« `api-server` vÃ  ra lá»‡nh cho Container Runtime Ä‘á»ƒ cháº¡y/dá»«ng container.
- NÃ³ lÃ  **ngÆ°á»i bÃ¡o cÃ¡o** - liÃªn tá»¥c gá»­i tráº¡ng thÃ¡i cá»§a Node vÃ  cÃ¡c Pod vá» cho Master.
- Quan trá»ng: **`kubeadm` khÃ´ng tá»± cÃ i `kubelet`**. Báº¡n pháº£i luÃ´n cÃ i Ä‘áº·t nÃ³ thá»§ cÃ´ng.

Hiá»ƒu rÃµ vai trÃ² cá»§a `kubelet` lÃ  báº¡n Ä‘Ã£ hiá»ƒu Ä‘Æ°á»£c "cÃ¡nh tay ná»‘i dÃ i" cá»§a Master Node hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o trÃªn tá»«ng Worker Node rá»“i Ä‘Ã³. ChÃºc báº¡n buá»•i chiá»u há»c táº­p hiá»‡u quáº£\!
